<?xml version="1.0"?>
<Container>
  <Name>TV Manager</Name>
  <Repository>wjm896/tvmanager:latest</Repository>
  <Registry>https://hub.docker.com/r/wjm896/tvmanager</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/wjm896/tvmanager/issues</Support>
  <Project>https://github.com/wjm896/tvmanager</Project>
  <Icon>https://raw.githubusercontent.com/wjm896/unraid-templates/main/icons/tvmanager.png</Icon>
  <ExtraParams/>

  <Overview>
    TV Manager is a lightweight Python + Flask app that integrates with Sonarr and Deluge to:
    - Automatically clean failed/manual Sonarr queue items
    - Remove unwanted Deluge torrents
    - Copy Plex-compatible .png artwork to TV show episodes
    - Provide a web UI to manage processed directories
  </Overview>

  <Category>MediaServer:Tools</Category>

  <!-- Environment Variables -->
  <Config Name="Sonarr URL" Target="SONARR_URL" Default="http://192.168.0.156:8989" Mode="env" Description="Sonarr base URL" Type="Variable" Display="always" Required="true" Mask="false"/>
  <Config Name="Sonarr API Key" Target="SONARR_API_KEY" Default="" Mode="env" Description="Sonarr API key" Type="Variable" Display="always" Required="true" Mask="true"/>
  <Config Name="Sonarr Minimum Age (minutes)" Target="SONARR_MIN_AGE" Default="120" Mode="env" Description="Minimum age of failed/manual items before removal" Type="Variable" Display="always" Required="false" Mask="false"/>
  <Config Name="Deluge Host" Target="DELUGE_HOST" Default="192.168.0.156" Mode="env" Description="Deluge RPC host" Type="Variable" Display="always" Required="true" Mask="false"/>
  <Config Name="Deluge Port" Target="DELUGE_PORT" Default="58846" Mode="env" Description="Deluge RPC port" Type="Variable" Display="always" Required="true" Mask="false"/>
  <Config Name="Deluge Username" Target="DELUGE_USER" Default="localclient" Mode="env" Description="Deluge RPC username" Type="Variable" Display="always" Required="true" Mask="false"/>
  <Config Name="Deluge Password" Target="DELUGE_PASS" Default="" Mode="env" Description="Deluge RPC password" Type="Variable" Display="always" Required="true" Mask="true"/>
  <Config Name="TV Shows Path" Target="/tv" Default="/mnt/user/tv" Mode="path" Description="Path to TV show files" Type="Path" Display="always" Required="true" Mask="false"/>
  <Config Name="App Data Path" Target="/data" Default="/mnt/user/appdata/tvmanager" Mode="path" Description="Path for processed directories and app data" Type="Path" Display="always" Required="true" Mask="false"/>

  <!-- Host port mapping (container port fixed at 5555) -->
  <Config Name="Web UI Host Port" Target="5555" Default="5555" Mode="Port" Description="Host port mapped to container Web UI" Type="Port" Display="always" Required="true" Mask="false"/>
  <WebUI>http://[IP]:[PORT:5555]/manage</WebUI>

</Container>
